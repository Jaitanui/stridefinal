<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feedback Form</title>
  <link rel="icon" href="STRIDELOGO.png" type="image">

  <!-- Tailwind CSS for modern styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
    body {
        font-family: 'Inter', sans-serif;
    }
    /* Simple animation for the message box */
    @keyframes slideIn {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    .response-message {
        animation: slideIn 0.5s ease-out;
    }
  </style>
</head>
<body STYLE="background: linear-gradient(to right,green,rgb(36,98,213))"  class= " flex items-center justify-center min-h-screen p-4">
  <div class="w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 space-y-6">
    <div class="text-center">
      <h1 class="text-3xl font-bold text-gray-800 mb-2">Feedback & Suggestions</h1>
      <p class="text-gray-500 text-sm">We'd love to hear your thoughts on our service.</p>
    </div>

    <!-- Message box for displaying success or error messages -->
    <div id="responseMessage" class="hidden text-center py-3 px-4 rounded-lg font-medium"></div>

    <form id="feedbackForm" class="space-y-6">
      <!-- Name Field -->
      <div class="form-group">
        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Your Name:</label>
        <input type="text" id="name" name="name" required
               class="w-full px-4 py-3 bg-gray-50 text-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 border border-gray-300 transition-colors">
      </div>
      
      <!-- Email Field -->
      <div class="form-group">
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address:</label>
        <input type="email" id="email" name="email" required
               class="w-full px-4 py-3 bg-gray-50 text-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 border border-gray-300 transition-colors">
      </div>
      
      <!-- Feedback Type Dropdown -->
      <div class="form-group">
        <label for="type" class="block text-sm font-medium text-gray-700 mb-1">Feedback Type:</label>
        <select id="type" name="type" required
                class="w-full px-4 py-3 bg-gray-50 text-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 border border-gray-300 transition-colors">
          <option value="">Select a type</option>
          <option value="Complaint">Complaint</option>
          <option value="Suggestion">Suggestion</option>
          <option value="Bug Report">Bug Report</option>
          <option value="Feature Request">Feature Request</option>
        </select>
      </div>
      
      <!-- Message Textarea -->
      <div class="form-group">
        <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Your Feedback:</label>
        <textarea id="message" name="message" placeholder="Please share your thoughts..." required
                  class="w-full px-4 py-3 bg-gray-50 text-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 border border-gray-300 transition-colors min-h-[150px]"></textarea>
      </div>
      
      <!-- Submit Button -->
      <button type="submit"
              class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors shadow-lg shadow-indigo-500/50">
        Submit Feedback
      </button>
    </form>
  </div>

  <script>
    document.getElementById('feedbackForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const form = e.target;
      const formData = {
        name: form.name.value,
        email: form.email.value,
        type: form.type.value,
        message: form.message.value
      };
      
      const responseMessage = document.getElementById('responseMessage');
      
      try {
        const response = await fetch('/submit-feedback', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(formData)
        });
        
        const result = await response.json();
        
        if (response.ok) {
          responseMessage.textContent = '✅ ' + result.message;
          responseMessage.classList.remove('hidden', 'bg-red-200', 'text-red-800');
          responseMessage.classList.add('bg-green-200', 'text-green-800');
          form.reset();
        } else {
          responseMessage.textContent = '❌ ' + result.message;
          responseMessage.classList.remove('hidden', 'bg-green-200', 'text-green-800');
          responseMessage.classList.add('bg-red-200', 'text-red-800');
        }
      } catch (error) {
        console.error('Submission error:', error);
        responseMessage.textContent = '❌ Network error. Please try again.';
        responseMessage.classList.remove('hidden', 'bg-green-200', 'text-green-800');
        responseMessage.classList.add('bg-red-200', 'text-red-800');
      }
      
      // Scroll to response message for better visibility on mobile
      responseMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
    });
  </script>
</body>
</html>
